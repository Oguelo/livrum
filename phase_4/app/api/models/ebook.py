from enum import Enum

from database.database import DB

from pydantic import BaseModel
from typing_extensions import Annotated
from fastapi import Query
import base64


class Ebook:
    def __init__(self, **kwargs):
        self.idAutor = kwargs.get("idAutor")
        self.idEbook = kwargs.get("idEbook")
        self.nome = kwargs.get("nome")
        self.autor = kwargs.get("autor")
        self.n_paginas: int = kwargs.get("n_paginas")
        self.anoLancamento = kwargs.get("anoLancamento")
        self.criadoEm = kwargs.get("criadoEm")
        self.idioma = kwargs.get("idioma")
        self.sinopse = kwargs.get("sinopse")
        self.img = kwargs.get("img")
        self.tamArqEmMb = kwargs.get("tamArq")
        self.status: EbookStatus = kwargs.get("status")
        self.preco = kwargs.get("preco")
        self.motivoRejeicao = kwargs.get("motivoRejeicao")
        self.modificadoEm = kwargs.get("modificadoEm")
        self.outrosAutores = kwargs.get("outrosAutores")


class EbookModel:
    def __init__(self, **kwargs):
        self.id = kwargs.get("idEBook")
        self.idAuthor = kwargs.get("idAutor")
        self.title = kwargs.get("nome")
        self.author = getAuthor(self.idAuthor)
        self.pages: int = kwargs.get("n_paginas")
        self.createdAt = kwargs.get("criadoEm")
        self.languages = kwargs.get("idioma")
        self.summary: str = kwargs.get("sinopse")
        self.authors = kwargs.get("outrosAutores")
        self.size = kwargs.get("tamArq")
        self.price: float = kwargs.get("preco")
        self.cover = getCover(self.id)
        self.releaseYear = kwargs.get("anoLancamento")
        self.status: EbookStatus = kwargs.get("status")
        self.isAvailable: bool = self.status == EbookStatus.ACTIVE
        self.reasonRejected = kwargs.get('motivoRecusa')


class EbookDTO(BaseModel):
    idEbook: str
    nome: str
    autor: str
    n_paginas: int
    criadoEm: Annotated[str, Query(pattern=r"^\d{4}-\d{2}$", examples=["2024-12"])]
    img: str
    tamArqEmMb: str
    preco: float


class EbookShowupDTO:
    def __init__(self, **kwargs):
        self.id = kwargs.get("idEBook")
        self.author = getAuthor(kwargs.get("idAutor"))
        self.title = kwargs.get("nome")
        self.releaseYear = kwargs.get("anoLancamento")
        self.price = kwargs.get("preco")
        self.isAvailable = True
        self.cover = getCover(self.id)
        self.size = kwargs.get("tamanhoEmMB")
        if self.size == None:
            self.size = "-"
        self.pages = kwargs.get("qtdPaginas")
        if self.pages == None:
            self.pages = "-"
        self.summary = kwargs.get("sinopse")
        self.format = "PDF"


class CatalogEbookDTO:
    def __init__(self, **kwargs):
        self.id = kwargs.get("idEBook")
        self.author = getAuthor(kwargs.get("idAutor"))
        self.title = kwargs.get("nome")
        self.releaseYear = kwargs.get("anoLancamento")
        self.price = kwargs.get("preco")
        self.isAvailable = True
        self.cover = getCover(self.id)


def getAuthor(authorId):
    with DB() as db:
        query = "SELECT nome FROM usuario WHERE idUsuario = %s"
        db.execute(query, [authorId])
        name = db.fetchone()
    return name["nome"]


class AuthorEbookDTO:
    def __init__(self, **kwargs):
        self.id = kwargs.get("idEBook")
        self.nome = kwargs.get("nome")
        self.data = format(kwargs.get("criadoEm"), "%d/%m/%Y")
        self.ano_lancamento = kwargs.get("anoLancamento")
        self.preco = kwargs.get("preco")
        self.link_foto = getCover(self.id)
        self.status = kwargs.get("status")
        self.qtd_pag = kwargs.get("qtdPaginas")
        self.nome_autor = ""
        self.genero = ""
        self.idioma = kwargs.get("idioma")
        self.sinopse = kwargs.get("sinopse")
        self.motivo_recusa = kwargs.get("motivoRejeicao")


class ReproveEbookDTO(BaseModel):
    id: int
    reason: str


class EbookStatus(str, Enum):
    PENDING = "pending"
    ACTIVE = "active"
    INACTIVE = "inactive"
    REJECTED = "rejected"


class EbookCreate(BaseModel):
    idAutor: int = None
    nome: str
    preco: float
    sinopse: str
    capa: str = None
    qtdPaginas: int = None
    idioma: str = None
    formato: str = "PDF"
    tamanhoEmMB: int = None
    anoLancamento: str = None
    motivoRejeicao: str = None
    outrosAutores: str = None


def getCover(id):

    path = "files/"
    try:
        with open(path + str(id) + ".jpeg", "rb") as f:
            return "data:image/png;base64," + base64.b64encode(f.read()).decode("utf-8")
    except:
        return "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwODxAPDgwTExQUExMcGxsbHB8fHx8fHx8fHx8BBwcHDQwNGBAQGBoVERUaHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fH//CABEIAnYETAMBEQACEQEDEQH/xAA1AAEBAAIDAQEAAAAAAAAAAAAAAQUHAgYIAwQBAQEAAwEBAQAAAAAAAAAAAAABAgUGAwQH/9oADAMBAAIQAxAAAAD69t+ZAFBCgAAACgAAAFAAAKJZJVAAAAAAAoAAAAAAAAAAAAAAAAAIAAAAAACJVWSgAAIAAAAQAAAABCggAgKAFIUAAAAUAAAAoAABYSgAAAAAAUAAAAAAAAAAAAAAAAAAAAgAAAAAAAslAAAQAAAAgAAAACFIAICgKCFAAAAFAAABQAACwlAAAAAAAoAAAAAAAAAAAAAAAAAAAAAIAAAAAABZKAAAgAAABAAAAAAEAAAKQoAAAAoAAAKAAAWCoAAAAAAoAAAAAAAAAAAAAAAAAAAAAABAAAAAAALJQAAEAAABAAAAAEKCAAFIUAAAAUAAAAoAALBUAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAFkoAACAAAAgAAAACFIACghQAAABQAAAUAAFhKAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAACyUAABAAAAQAAAAIUEAKQoAAAAoAAAKAACwlAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAABZKAAEAAABAAAAAEKQApCgAAAUAAAFAAALKgAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAslAACAAAAgAAAAACAFAAAAFAAABQAAWEoAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAABZKAAEAAABAAAAAhSAFAAAAoAAAKAACyoAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAABUsAAEAAABAAAAAAEKAAAAKAAAUAAFhKAAAABQAAAAAAAAAAAAUAAAAAAgAAAAAAAAAAAAIAAAAAKlgAAgAAAIAAAAEKAAAABQAAAUAAFlQAAAAKAAAAAAAAAAACgFAAUAAgAEAIAAAAAAAAAAAQAAAAAWSgABAAACAAAAAAAAAAFAAAKAACyoAAAAFAAAAAAAAAABQUhQoKAAAAAQEAEIAAAAAAAAAACAAAAAEygAAgAAAIAAAAEKAAABQAAAUAAsJQAAAAKAAAAAAAAAClAClAAAAAAAAABjCkIAAAAAAAAAAQAAAAhalgAAgAABAAAAAhQAAAKAAAUAAFlQAAAAKAAAAAAAAAUFClAAAAAAAAAAAAIQQgAAAAAAAABAAAAABZKAAgAAAIAAAAEKAABQAACgAAsqAAAABQAAAAAAAAClClAAAAAAAAAAAAAAISAgAAAAAAAAIAAAABUsAAEAAAIAAAAEKAABQAACgAAsqAAAAKAAAAAAAACgoUoAAAAAAAAAAAAAAAISEAAAAAAAABAAAAALJQAEAAABAAAAAAACgAAAoABYSgAAACgAAAAAAAFKFKAAAAAAAAAAAAAAAAAQkIAAAAAAAACAAAACpYAAIAAAQAAAAAAAoAABQAAWVAAAAFAAAAAAAAKUKUAAAAAAAAAAAAAAAAAAhICAAAAAAAAgAAAARUoACAAAEAAAAAAAKAAAUAAsJQAAAKAAAAAAAAUoUoAAAAAAAAAAAAAAAAAAAMRCAAAAAAAAgAAAAqWAACAAAEAAAAAAKAAAUAAFlQAAABQAAAAAAAUoUoAAAAAAAFAAAIAAAAAAAAAxEIAAAAAAAQAAAAJKUABAAACAAAAAAFAAAKAAWEoAAAFAAAAAAABShSgAAAAACgAAAAAAEAAAAAAADGEAAAAAAABAAAAEWywACAAAEAAAAAAKAAAUAAsqAAAAKAAAAAAAUoUoAAAAAFAAAgAABQAAEAAAAAAQkIAAAAAAAQAAAACyUABAAACAAAAAFAAAKAAC40AAACgAAAAAAFKFKAAAAAKAAIAAAAAACgBAAAAAAEJCAAAAAAAEAAAAFkoACAAAEAAAAAKAAAUAAsJQAAAKAAAAAAAUoZAAAAACgAQAAAAAAAAFACAAAAABCQgAAAAAAIAAAACZQACAAAEAAAAAKAACgAAsqAAAAKAAAAAAClClAAAAFAAgAAAAAAAAABQAgAAAAAYwgAAAAAABAAAACZQAAQAAAgAAABQAACgAAuNAAAAoAAAAAAByClAAAAFAAgAAAAAAAAAAAKAgAAAACEhAAAAAAAQAAAAWSgAIAAAQAAAAoA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qAAABQAAAAAAUoUoAAAAoAEAAAAAAAAAAABQEAAAAAQkIAAAAAACAAAAIqUABAAACAAAAAoAAKAACwlAAAAoAAAAAAKUMgAAAAKABAAAAAAAAAACgBAAAAAAxHEAAAAAAAgAAACTIAAIAAAQAAAAFAAAKAAWEoAAAFAAAAAAAKUMgAAAAKAAIAAAAAAAACgBAAAAAAhIQAAAAAAEAAAAFSwACAAAEAAAAAKAAAUAAFxoAAAFAAAAAAAKUBkAAAAAKAAIAAAAAAUABAAAAAAEJCAAAAAAAEAAAAFkoACAAAEAAAAABQAAUAAFlQAAABQAAAAAAClClAAAAAFAAAAgABQAAAgAAAAAAYwgAAAAAABAAAABUsAAEAAAIAAAAACgAAFAALCUAAACgAAAAAAApQpQAAAAABQAAAAAACAAAAAAABjCAAAAAAAAgAAAAslAAQAAAgAAAAABQAACgAAsqAAAAKAAAAAAAClDIAAAAAAAAUAAAgAAAAAAAADGEAAAAAAABAAAAALJQAEAAAIAAAAAACgAAFAALCUAAACgAAAAAAAFKFKAAAAAAAAAAAAAAAAAAADGEAAAAAAAAIAAAAi2WAACAAAEAAAAAABQAACgAAsqAAAAKAAAAAAAAUoUoAAAAAAAAAAAAAAAAABCQgAAAAAAABAAAAASxQAEAAAIAAAAAAAUAAAFAALCUAAAAUAAAAAAAApQpQAAAAAAAAAAAAAAAACEhAAAAAAAAAQAAABFSgABAAACAAAAAAAAoAABQAAWEoAAAFAAAAAAAABQUKUAAAAAAAAAAAAAAAGIhAAAAAAAAAQAAAACyUABAAACAAAAAAAAFAAABQACwlAAAAFAAAAAAAAAOQAUoAAAAAAAAAAAAAISAgAAAAAAAAIAAAAEWywAAQAAAgAAAAQoAAFAAABQAAWWSVQAAAKAAAAAAAAAUoAUoAAAAAAAAAAAIQQgAAAAAAAABAAAAABZKAAgAAAIAAAAEKAAAKAAACgAAuNAAAAFAAAAAAAAABQUAKUAAAAAAAAAhBACAAAAAAAAAAgAAABEtssAAEAAAIAAAAEKAAABQAAAUAAFlQAAAAKAAAAAAAAAAUAoAUFAAAAAICAQEAAAAAAAAAABAAAAAKlgAAgAAAIAAAAEKAAAAKAAACgAAsqAAAABQAAAAAAAAAAAUFAAAAAAAICAAAAAAAAAAAAgAAAAAykAABAAACAAAAAAAAAAFAAABQAAC40AAAACgAAAAAAAAAAAAoAKAAQAEAAAAAAAAAAAABAAAAABZKAAEAAABAAAAAhQQoAAAFAAABQAAWEFAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAKlgAAgAAAIAAAAAAgKAAAAKAAACgAAsskqgAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAFSwAACAAAEAAAAAQpAUhQAAAKAAACgAAFlQAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAZSAAAgAAAIAAAAAhSApCgAAACgAAAoAABZUAAAAACgAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAFkoAAQAAAEAAAAAQpACghQAAAKAAACgAAFhKAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAACyUAABAAAAQAAAAICkA//xABHEAAAAwMFCQ0FBgcBAAAAAAABAgMABAUWNXOS0QYQERIxMlJTVBUgIUFgYXKRorGywuETIjBAUTNCYnGBwRQjJDSCofCw/9oACAEBAAE/Af8A2w3ZAzw8JO5BADqmxSiOTCLSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjSNiWvR7VjL3JRBFE6plkhKmUTCAY2HgDD9GDJyrhE7OdKX56JTe80R/CLFzQ5VwednOlL89EpveaI/hFi5ocq4POznSlv3VP787PyJHdc6RBSwiUv1xm3ajG2K9YWNu1GNsV6wsbdqMbYr1hY27UY2xXrCxt2oxtinWFjbtRjbFesLG3ajG2KdYWNu1GNsU6wsbdqMbYp1hY27UY2xTrCxt2oxtinWFjbtRjbFOsLG3ajG2KdYWNu1GNsU6wsbdqMbYp1hY27UY2xTrCxt2oxtivWFjbtRjbFesLG3ajG2K9YWNu1GNsV6wsbdqMbYr1hY27UY2xXrCxt2oxtivWFjbtRjbFesLGuSfHt5K9fxKxlsQxMXG4sIDeiU3vNEfwixc0OVcHnZzpS37spxQofMPzNxOY+dIncN6Ize80R/CLFzQ5VwednOlLfuynFCh82+d3Z4eVPZO6ZlT/QvF+Y5AYlyUWMXCPsiDoiYR7gZ8gcUcyidVHGTDKon7wB+fH/AK+RuJzHzpE7hvRKb3miP4RYuaHKuDzs50pb92U4oUPm3rg5Kvr2m7J8Anym0ShlFnFxdnJAEXcmKUMo8Yj9RHjG/dPBCIf1zsXFTEcC6YZAEfvh+/yFxOY+dIncN6JTe9UR/CLFzQ5VwednOlLfuynFCh829uLRKKj2t94MVMPyHhHePyJVnNdIwYQOQwf6YuaHx7icx86RO4b0Sm96oj+EWLmhyrhE7OdKW/dlOKFD5t7cc9FI9rOw8HtigYn5kyh1DvIs9FdYc8LDxEECh9TDwAHWwBgAA3jo6LvbwV3QLjKG6gD6jzMuiqgsdBUuKomOAwf99fhXE5j50idw3olN71RH8IsXNDlXCJ2c6Ut+7KcUKHzb1JVRJUiqRsVRMcYhudoRdA6PxQIcQRevvJCOXnKPGF55enZ2TFR4UKmQOMzR2NmiKoETwkdExwkKOUw6Q/tvHd3XeVyoIFx1T5A/ceYGhEIRhzviF95Y3Cqr9RsDia6GCfxyPtkQwPaQe7+MNEf2bhAcAhgEOAQHKA/BuJzHzpE7hvRKb3qiP4RYuaHKuDzs50pb92U4oUPm36b+/plxSPKpS/QDixznUNjKGMc2kYREf97xJJVZUqKRcdU44CFBoLBkochpvKn2yvlDmC/dPA8cDRB2L74f3CYfeDSDnDjbCGXiYU1ATKoJBBNTD7M4hwGwZcG/uKzHzpE7hvRKb3qiP4RYuaHKuETs50pb92U4oUPm+GQhznKmmUTqHHAQgZRFoFBCQ9L2imAz2oHvn0Q0S70ty8MB9O8mLjFMOMVAfsyjx8HG0UhqT85GdjYCjlSNomDILKJqJKHSVLiqJjinLzhvrisx86RO4b0Sm96oj+EWLmhyrhE7OdKW/dlOKFD5vhAAiIFKAmMYcBShlEfoDXPwIriT264AZ8OH6EDRD9x+BdZCccm6CIe+mGB4AOMnEb/Hu31xWY+dIncN6JTe80R/CLFzQ5VwidnOlLfuynFCh83wf+wNc7AP4UAe3oP6o2YTVgPmHj+CIAIYB4QHKDRyFjDn0SFD+nV95Ae8v6b24rMfOkTuG9EpveaI/hFi5ocq4ROznSlv3ZTihQ+bfQGBGiB/bLYSuZf0E4/QOb6iz9cecMJ3FXGDUq/sa1np1eXU+I8pGSNxYwcA/kOQWucgHscV9ey/zx4UUh+5zj+Lu+HFoanEHM6BuA+ckfRMGQWUTUTUMkoGKoQcU5foIby4rMfOkTuG9EpveaI/hFi5ocq4ROznSlv3ZTihQ+bewOCKRFXHUwlcyD75tIdEv7iyaaaZCpplApChgKUMgBeMQhwwGKBgy4B4eH4t1kJxi7ooh7xOB4AOMvEb9OPm3lxWY+dIncN6JTe80R/CLFzQ5VwidnOlLfuynFCh828gsGViS3DhI6pj/NU+v4S8/cyKKSKRUkigRMgYClDIAfIGKUwCUwYQHgEGjULGHPgph/bqe8gbm4y/437isx86RO4b0Sm95oj+EWLmhyrhE7OdKW/dlOKFD5r8IhK0SeMUMJHcn2yvlLzizs7ou6JEUS4iRAwFKHyUXhqcQczIjwKB7yJ/oYP+4WOQ6ZzJqBiqEESnKPEIXrisx86RO4b0Sm95oj+EWLmhyrhE7OdKW/dlOKFD5r0Kha8RePZp+6kX7ZbRC0eJnR0QdECoIFxUyZA/cef5S6yE8G6KIcIcDyHNxH/TjvXFZj50idw3olN71RH8IsXNDlXCJ2c6Ut+7KcUKHzMmUhlClUP7Mgj7x8GNgD8uNnGP3PuTuVBDHAhfwDhEeMR5xaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVkH0j1BaVsG0j1BaVsG0j1BY11UEMUSmE4lMGAQEg8ICzyV2K8HB1MJnfDhTEwYBAB4h/Jrisx86RO4b0Sm96oj+EWLmhyrhE7OdKW/dlOKFD5vmbicx86RO4b0Sm96oj+EWLmhyrhE7OdKW/dHBYg/PiSrsUokInijjGwcOHC0lIzoJ1/RpKRnQTr+jSVjWgnX9GkrGtBOv6NJWNaCdf0aSsa0E6/o0lY1oJ1/RpKxrQTr+jSVjWgnX9GkrGtBOv6NJWNaCdf0aSsa0E6/o0lY1oJ1/RpKxrQTr+jSVjWgnX9GkrGtBOv6NJWNaCdf0aSsa0E6/o0lY1oJ1/RpKRrQTr+jSUjOgnX9GkpGdBOv6NJSNaCdf0aSka0E6/o1zMKfXArwDyBQ9oJRLijhyBeiU3vVEfwixc0OVcHnZzpS/PRKb3qiP4RYuaHKuETs50pfnojN7zRH8IsXNDlWiqoiqRZMcCiY4xBy4BaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxpTRzaAqEsaU0c2gKhLGlNHNoCoSxlLooyomZM64CQ4CUwYhcg5eL/2xf/EACwQAQABAwEIAgICAwEBAAAAAAERADBAIBAhMUFQYaGxUfBgcYGRcMHR4fH/2gAIAQEAAT8QwCyZEdEj8NMeL++3vvR1FwCzGNHTIz46RGLHUExWy9bj8HTop+TNh6IfhcZj0IMOPy4/F3Diw/4LcYsR0yKiosRUVGW5L0+MiMKKjpLYcQsGCY0ZEYzkv4DGZHRnKMgxI6AmI5DknRI6HGG4DYcAyDCOsOC63HMAwo604DnH4ZGC47eMeOvR0B1uKdSioqKioqKioqKiow3AcduGOdAiovx1duGszwvxiRnt9yi+Xzo0Xm+9BPw1vN9vuttGsvl8LsdYb7rbRrL5lhnRdenGKXy8FBU3DmMb4zooooooooooooooooooooooooooooot6NhwGQTxbqUh+ScpxmwYxm/fd894P6C43m+62way+Xi/9d32y1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1O/a88Ap6Q62wazpn13fa9tToDISyPLJIECBAwQMGDBgwYMGDBggQIECBAgQfkgNjBDEBx2vPALrebzrbB0Mtmn67vt89YoqKjbFRUXW3zwD1sbbec0xTO+u77fNe+rn8lKQfKQH7amjCmSfpkPNMC3pET5AAoIgjI8E1xcbPPAPWW33oZkGr67vt8176ULlrHJvD/o4d6G5v3E57njZFBJgB4RgDkLuH8/NlLTZZ4B62ttzHEMwtmr67vt8176UDwe0k/ugo2ydnR7qKSycYJ/dlstlngHq85jrbpmGD9932+a99KOilXNkD+z+KNrxkzFCGF+1TSkwBOjj+iruHxfkKV04/wnyDeOlsNlngHrQ2m83nW3TMLRr++77fNe+lMhoOQ7czknxUJsxBDOa4nxxNnHas0fwHFexQaINwcDHy3cHLROPccMDmnLmNbrsVZCXI+OUoIhvTwOKt7cn90iEKRoAwickbiZZ4B60OQ3nW3S8ZBr+u77fNe+pB4k1uA1G6Y/uv8AzvaSnQ6vnVL/AKDivIrfpBDB7eHm4uxpNwfJeAcI5X8juUIQZ4p5RTbuCA3MvGNrrzLPAPWY3nW6jWXi6WzX9932+a96LQcAEyjgFbuLAt5xP1HN5tBtaaDugpO9Q5neDuKDwADOE3R8ck+Kfo6jlxP45nazmWeAesxvOt1GsvF0wvvu+3z3vaPyAiUbgOa0LiGea+b8/wDDhUakmuI0nIryc3/FnM88A9X263nW6jWXi6bDA++77fPe9nfIAqoAJVdwAcVqDFLebzkv0cXLhUWHRgkQkR3IlKA33Jh8vzP+o2OrM88A9aW04TgOo1l4umwwPvu+3z3vqgmmikh834f6CvnzDcP6E9P5r/Qggbqf4Goe5iB4Xl/L6motMUcYE+kPB7Uit9HHck/5TqzPPAPWltOE4DqNZeLpsMD77vt8976Y1QI9yXFv/hw40bBxEAIAKgowIIBADeO/mVBbiuUEOXO6H54f+FOrM88A9aW04TgOo1l4umwwPvu+3z3voQqgh7lcf3Ob7UQ0h8AwBIHVbxEhEo6Vkd37x+Zf1GrM88A9aW04TgOo1l4umF9932+e99rh0RE4HHueLjQt/ggO/wArzcKN7ficNuf08Oyls8bEqE05nngHrS2m63nW6jWXi6YX33fb5r3ore+isEicj55T+aKeaOIrzTmni4k3DULzO71Oz9acyzwD1mN51t0vGQa/vu+3zXvUUBA0uch4vgpL9/quri434Z//AP8A/wD/AP8A/wD/AP8A/wD/AP8A/wD/APT/APWw936FsBCJHOml+SN+Inf8Z56MyzwD1mN51t0zC0a/vu+3zXvmJlngHrQ5DedbdMwwfvu+11GHk73cIeWSklFFFFFFFFFFFFFFFFEEkkEEjt5dbDO4jjtWeAetDabzedbdMwwfru+es8A9XnMdbmGQavvu9TU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0688A2ttzG8YpnQktgkDgw7nOqVKlSJEiRAgQIECBAgQIECRIkSJUqVKlSpEvCTIQJPg0AAHA4bXo7eMUvFswJ1TU3223nNNZ+MN5vOtsGsvmSdEekOtsGMXi5PQm43m+62yYplnW3GbJrL51mbr041l8zJ6w33W2jqY5U5rfdbhF8vl6anHm8vUTWXzAG/NThznt96UYBgzemp6u4h1Kamp1TU9EeiGPP485p0GfxNxjoQ9acBxywYA4U9GXobrcg/B5w3AbDgmQYk9AnEXBdblGDOJNTmTU9NcMyZxZqcifwswjImpwZ6U2HFLB0yampsTU1PVH/ATYccy5/D2w9BMMfzgw56xOJNicssH4U4jkf//EAD0RAAEBAwkECAUCBgMAAAAAAAECAAMVBAUQMTNRUnGhEVBgYRIUICFBcoGREzAyQHCA0SIjQpCx8KDB4f/aAAgBAgEBPwD+9QP+LWN1H81jdB/Wlt/HQ3If09jgh4sISVHwaLO7laNFndytGizu5WjRZ3crRos7uVo0Wd3K0aLO7laNFndytGizu5WjRZ3crRos7uVo0Wd3K0aLO7laNFndytGizu5WjRZ3crRos7uVo0Wd3K0aLO7laNFndytGizu5WjRZ3crRos7uVo0Wd3K0aLO7laNFndytGizu5WjRZ3crRos7uVoyJ0dqIGxXflwMdzSuyVl99J7ROYY18VyqyVl99J7ROYY18VyqyVlTNsnQtBKht726m5whupucIbqbnCG6m5whupucIbqbnCG6m5whupucIbqbnCG6m5whupucIbqbnCG6m5whupucIbqbnCG6m5whupucIbqbnCG6m5whupucIbqbnCG6m5whupucIbqbnCGnRyhBT0Rsrok9onMMdyDgeVWSsqZpsz5vuZ4rT60OLROYY7kG4DueVWSsqZpsz5u08epQNqjsYzo68NvszmWunncD38+77GeK0+tEntE5hjXxXKrJWVM02Z83Zfvg7QVHwZ8+U8V0lUzbLCr+Wqvw/b7CeK0+tEntE5hjXxXKrJWVM02Z83Zndf0p9ew6V0VgjwLH588Vp9aJPaJzDGviuV2SsqZpsz5uzOzvagLHgexJXXxHgSL2PYfPUu09JTIW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"
